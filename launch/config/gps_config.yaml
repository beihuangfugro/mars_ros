# NOTE: Do not use 1e-6 format because this is reqognized as a string

# Framework Settings
pub_on_prop: true
use_ros_time_now: false
verbose: false
verbose_out_of_order: true
discard_ooo_prop_meas: false
pub_cov: true
pub_path: false
buffer_size: 2000

# Ros Settings
use_tcpnodelay: true
bypass_init_service: false

pub_cb_buffer_size: 1
sub_imu_cb_buffer_size: 200
sub_sensor_cb_buffer_size: 1

# Node specific settings
publish_gps_enu: true

## Attitude initialization (3-DOF from GREAT-MSF calibration)
enable_manual_yaw_init: true
pitch_init_deg: 3.093
roll_init_deg: 0.118
yaw_init_deg: -30
# Gyro bias initialization [rad/s] from GREAT-MSF (0.111, 0.0089, -0.0236)
gyro_bias_init: [0.111, 0.0089, -0.0236]
# Antenna lever arm [m] in sensor frame from GREAT-MSF
antenna_lever_arm: [-0.05, -0.41, 0.15]

# Sensor Settings
gyro_rate_noise: 0.0023089
gyro_bias_noise: 0  # Set to 0 to keep bias constant (GREAT-MSF uses constant bias model)
acc_noise: 0.038932
acc_bias_noise: 0.057518

# Core state covariance p,v,q,bw,ba
core_init_cov_p: [0.5,0.5,0.5]
core_init_cov_v: [0.3,0.3,0.3]
core_init_cov_q: [0.1218,0.1218,0.1218] # 20degree
core_init_cov_bw: [0.0076,0.0076,0.0076]
core_init_cov_ba: [0.01,0.01,0.01]

# GPS Settings
# Measurement noise: how much we trust GPS position measurements
# RELAXED: 1.5 m std dev to allow filter to adapt during convergence
gps1_pos_meas_noise: [1.5,1.5,1.5]
gps1_vel_meas_noise: [0.1,0.1,0.1]
gps1_use_dyn_meas_noise: false
gps1_cal_ig: [0,0,0]
# Calibration state uncertainty: GPS sensor uncertainty (lever arm, etc.)
# RELAXED: 1e-02 instead of 1e-07 to allow calibration adaptation during early filter convergence
gps1_state_init_cov: [0.01,0.01,0.01]
